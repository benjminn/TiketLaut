<UserControl x:Class="TiketLaut.Views.Components.NavbarPostLogin"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             FontFamily="Plus Jakarta Sans">

    <Border Background="#4AFFFFFF"
            BorderBrush="Transparent"
            BorderThickness="0"
            MinHeight="70"
            Height="Auto">
        <Grid Margin="95,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Logo -->
            <Image Grid.Column="0"
                   Source="/Views/Assets/Images/logosamping.png"
                   Height="40"
                   VerticalAlignment="Center"
                   HorizontalAlignment="Left"
                   Margin="0,15,20,15"
                   Stretch="Uniform"/>

            <!-- Navigation Menu (Center) -->
            <WrapPanel Grid.Column="1" 
                       Orientation="Horizontal" 
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center">

                <!-- Home -->
                <Button x:Name="btnHome"
                       Style="{StaticResource NavButtonStyle}"
                       Click="BtnHome_Click"
                       Margin="5,10">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Views/Assets/Icons/iconhome.png" 
                               Width="20" Height="20" 
                               Margin="0,0,8,0"
                               Stretch="Uniform"/>
                        <TextBlock Text="Home" 
                                  FontSize="15"
                                  FontWeight="SemiBold"
                                  Foreground="#011C4B"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <!-- Separator -->
                <Image Source="/Views/Assets/Images/line.png" 
                       Width="1" 
                       Height="20" 
                       Margin="10,0"
                       VerticalAlignment="Center"
                       Stretch="Fill"/>

                <!-- Cek Booking -->
                <Button x:Name="btnCekBooking"
                       Style="{StaticResource NavButtonStyle}"
                       Click="BtnCekBooking_Click"
                       Margin="5,10">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Views/Assets/Icons/iconbooking.png" 
                               Width="20" Height="20" 
                               Margin="0,0,8,0"
                               Stretch="Uniform"/>
                        <TextBlock Text="Cek Booking" 
                                  FontSize="15"
                                  FontWeight="SemiBold"
                                  Foreground="#011C4B"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <!-- Separator -->
                <Image Source="/Views/Assets/Images/line.png" 
                       Width="1" 
                       Height="20" 
                       Margin="10,0"
                       VerticalAlignment="Center"
                       Stretch="Fill"/>

                <!-- Notifikasi -->
                <Button x:Name="btnNotifikasi"
                       Style="{StaticResource NavButtonStyle}"
                       Click="BtnNotifikasi_Click"
                       Margin="5,10">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Views/Assets/Icons/iconlonceng.png" 
                               Width="20" Height="20" 
                               Margin="0,0,8,0"
                               Stretch="Uniform"/>
                        <TextBlock Text="Notifikasi" 
                                  FontSize="15"
                                  FontWeight="SemiBold"
                                  Foreground="#011C4B"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <!-- Separator -->
                <Image Source="/Views/Assets/Images/line.png" 
                       Width="1" 
                       Height="20" 
                       Margin="10,0"
                       VerticalAlignment="Center"
                       Stretch="Fill"/>

                <!-- FAQ -->
                <Button x:Name="btnFAQ"
                       Style="{StaticResource NavButtonStyle}"
                       Click="BtnFAQ_Click"
                       Margin="5,10">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Views/Assets/Icons/icontandatanya.png" 
                               Width="20" Height="20" 
                               Margin="0,0,8,0"
                               Stretch="Uniform"/>
                        <TextBlock Text="FAQ" 
                                  FontSize="15"
                                  FontWeight="SemiBold"
                                  Foreground="#011C4B"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </WrapPanel>

            <!-- User Info with Popup (Right) -->
            <Grid Grid.Column="2" 
                  VerticalAlignment="Center"
                  Margin="10,15">

                <!-- User Info Button -->
                <Button x:Name="btnUserInfo"
                       Background="Transparent"
                       BorderThickness="0"
                       Padding="10,5"
                       Cursor="Hand"
                       Click="BtnUserInfo_Click" HorizontalAlignment="Left" Width="156">
                    <Button.Style>
                        <Style TargetType="{x:Type Button}">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="{x:Type Button}">
                                        <Border Background="{TemplateBinding Background}"
                                                CornerRadius="8"
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center"
                                                             VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#F5F5F5"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>

                    <StackPanel Orientation="Horizontal">
                        <!-- "Halo," text dengan warna #00658D -->
                        <TextBlock Text="Halo, "
                                  FontSize="14"
                                  FontWeight="Medium"
                                  Foreground="#00658D"
                                  VerticalAlignment="Center"/>

                        <!-- Username dengan warna #042769 -->
                        <TextBlock x:Name="txtUserInfo"
                                  Text="&lt;nama user&gt;"
                                  FontSize="14"
                                  FontWeight="SemiBold"
                                  Foreground="#042769"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <!-- Logout Popup -->
                <Popup x:Name="popupLogout"
                       PlacementTarget="{Binding ElementName=btnUserInfo}"
                       Placement="Bottom"
                       StaysOpen="False"
                       AllowsTransparency="True"
                       PopupAnimation="Fade">
                    <Border Background="White"
                            BorderBrush="#E0E0E0"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="5"
                            Effect="{StaticResource CardShadow}">
                        <Button x:Name="btnLogout"
                               Content="Logout"
                               Background="#DC2626"
                               Foreground="White"
                               Padding="40,10"
                               FontSize="13"
                               FontWeight="SemiBold"
                               Cursor="Hand"
                               Click="BtnLogout_Click">
                            <Button.Style>
                                <Style TargetType="{x:Type Button}">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="{x:Type Button}">
                                                <Border Background="{TemplateBinding Background}"
                                                        CornerRadius="6"
                                                        Padding="{TemplateBinding Padding}">
                                                    <ContentPresenter HorizontalAlignment="Center"
                                                                     VerticalAlignment="Center"/>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#B91C1C"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                    </Border>
                </Popup>
            </Grid>
        </Grid>
    </Border>
</UserControl>